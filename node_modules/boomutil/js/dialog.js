import { el } from "./general"

export default class Dialog {
	constructor(id) { 
		this.id = id ?? "new-dialog"
	}
	
	show(html) {
		console.log(`Show dialog with id ${this.id}`)
		const _dialog = document.createElement("div")
		_dialog.id = this.id
		_dialog.className = "dialog"
		_dialog.innerHTML = html
		el("body").appendChild(_dialog)
		el(`#${this.id} .close`).onclick = () => this.close(this.id)
		setTimeout(() => _dialog.classList.add("active"), 100)
	}
	
	close() {
		const _dialog = el(`#${this.id}`)
		_dialog.classList.remove("active")
		setTimeout(() => _dialog.remove(), 200)
	}

	text(txt) {
		this.show(`<div class="content text">${txt}<button neon class="close">Continue</button></div>`)
	}
}
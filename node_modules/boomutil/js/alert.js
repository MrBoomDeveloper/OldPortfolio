import "./dialog"
import { el } from "./general"

export const notify = (title, content, duration) => {
	const message = document.createElement("card-small")
	message.setAttribute("title", title)
	message.setAttribute("description", content ?? "")
	el("#boomMessagesDiv").appendChild(message)

	new Promise(next => setTimeout(() => next(), 200)).then(() => {
		message.className = "active"
		setTimeout(() => {
			message.className = "destroy"
			setTimeout(() => message.remove(), 250)
		}, duration ?? 2500)
	})
}

export const log = text => notify("Console Log", text, 2000)
export const error = text => notify("An error has occurred", text, 5000)
export const debug = (id, content) => new Dialog(id).text(content)
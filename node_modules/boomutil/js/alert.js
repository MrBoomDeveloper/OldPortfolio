const d = require("./dialog")
const g = require("./general")

export const alert = (title, content, duration) => {
	const message = document.createElement("card-small")
	message.setAttribute("title", title)
	message.setAttribute("description", content ?? "")
	g.el("#boomMessagesDiv").appendChild(message)

	new Promise(next => setTimeout(() => next(), 200)).then(() => {
		message.className = "active"
		setTimeout(() => {
			message.className = "destroy"
			setTimeout(() => message.remove(), 250)
		}, duration ?? 2500)
	})
	console.log(message)
}

export const log = text => alert("Console Log", text, 2000)
export const error = text => alert("An error has occurred", text, 5000)
export const warn = text => alert("Oops!", text, 3000)
export const debug = (id, content) => new d.dialog(id).text(content)
export default class CardFaq extends HTMLElement {
	constructor() { super() }
	connectedCallback () {
		const name = this.id
		this.innerHTML = `
		<button class="accordion" 
			id="faq1_${name}">
				${this.getAttribute("title")}
		</button>
		<div class="panel" id="faq2_${name}">
			<p>${this.getAttribute("description")}</p>
		</div>`

		let active = false
		this.addEventListener('click', () => {
			this.classList.toggle("active")
			const child = element(`#faq2_${name}`)
			child.classList.toggle("active")
			if (active) {
				child.style.maxHeight = null
				active = false
			} else {
				child.style.maxHeight = child.scrollHeight + "px"
				active = true
			}
		})
	}
}